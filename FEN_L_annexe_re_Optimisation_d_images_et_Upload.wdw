#To edit and compare internal_properties, use WINDEV integrated tools.
#Internal properties refer to the properties of controls in windows, reports, etc.
info :
 name : FEN_L_annexe_re_Optimisation_d_images_et_Upload
 major_version : 25
 minor_version : 0
 type : 2
 description : ""
 subtype : 0
window :
 name : FEN_L_annexe_re_Optimisation_d_images_et_Upload
 identifier : 0x2efc0ea100767ee4
 internal_properties : BQAAAAUAAAD6UCtkYpPPmcAuzLhzbUGmWwjDhbuS+8R2CDtXq4nYEM2BznWt/IbJkK9Y+b4cTHTnDLBB1Aao+htuTn4Bt/6NGcQhShiFbfS8okS4qy+Hs5RqKnFSf7AZFh6K9x8w9QhH1JltC+14HSkcDQH0zUj5bZxxVBU6l4QQQL84sgcUeN8elRZy/vSEOQI4heG1o67hEBubbKBJ3LIqrVTawuDwxohZCZlK0GFvYeQsW85lxn55eosMNsO40+hb8y8hzN042QeKdX8Lmli2VgxTCjBsc5fSB+p06zC6YRwErhMf5704rvxDj+2lyCTGWr/LOVKNotlJeXjTgzRhZQ6Cp9p4sFd/eNMGQggz0F10C/Mk9Q3LIqjvLmik4M/92jgK03QlcHvuVH4ql5oWaSsX6xsPg68e76N/IWqrOoh65O342vh0HENBGgHIEtbzvWCZY5iovspqLJN15GVjD/JjWVk2frK6qeZXUOwmSbV7l7mXm0zrOdjNTE9hKTDliuIyb8dJ8/jLU/sf06qHt/lKIppabtcZqpouJH4kqMa9QPpCvki6mblvVLGUKxuoAB6+6GuBmChAwU3EfnraADgEwLHJNyOxQIFqBBDw19UJjzzm7DhEj5t3shh3VS0z8S8Ia2s1eczHwf9DTVFvG9fMXG0j54FI6+3NTtnsCrEblzMJslD8mvq5HNv0ZrnIqqD4xc3+ZAR83Xk6Dtwqz3rapowre4OLpuxk2KQqRNojqTYOM9dj
 controls :
  -
    name : EI_SansNom1
    identifier : 0x2efc0ee300a37ea1
    internal_properties : BQAAAAUAAAB67fbcY03Df17M9zNPUFfvOXsH9NdfZ9JVYWfWPyue3821i8T47Rkj3mtRbTmHlOPOZkMyMNeMf1GlPpa9gvBx46Q1CacIILH3K6zTIirD6zpU+0BS+xrJBpP9vImIZRlxu4HeL966JMkC4u3O+QE25Vn/3rGikKcNIiWm/nv5M5exfHrj3fFUd63L1aoJOEeHphjbDxmFnqoC0qmmjbwkraCMX8bpXMpbL8CstZUqTXxM6KHqKHsFAK19AeTXjWByxD5TZXPFsdN1ceT0f79XBIQt/2jzns2LNZxu99sTOeLr4KdmRqJke4zd/lOYaGCHPj8acR2Q4IajM+YJcylWA8TEtjfblLi8Jo0Xt/oCcNXLFmcuJn7qW2jn+e/99lzyrsA43QeyWPTMFmEMZk4ol2u74VjakWRmzmixMxlzGOiv1iOT0/yXAgJyKVfVsx3cEahpw0kVs7EWWN972r4tP+I6OdwptohPN6NJGWUwLkrrGo1AS9Dh1N53alpSNKrLCuRn6LYDmta84tGY5Hz0RFMjHWC4cgo9gMk8p68XUQJ+sDZmXiRO8us/eWW7JxH6pgX+
    type : 124
    code_elements :
     type_code : 149
     p_codes : []
 menu :
  name : _Menu
  identifier : 0x292573e513b5f221
  internal_properties : BQAAAAUAAABiquo+KzoThMQryu9swsdZc8zODExcpx6vBw6gMvcJemwPoFMC6K9DJVPL0MN2z697Bis4IQ+QFA3VxeRsUaQNkiUqCGm/KkVwgQVgYtW6kxLA1tZfNneQ0yAA42NRZIkm0wTX5ogd+numXZiHQT8zXRcG0SU=
  options :
   -
     name : OPT_Menu
     identifier : 0x2efc0ea80077981a
     internal_properties : BQAAAAUAAAAalaGs5lTy7QDrTIXgZeXtaeqQ8L5EubNyLPJmzDvBJ0L6yTlEsoMmDA77va0+2Pc/Hg65DyPAlB5W9Tj+YDF2Q+nFqpgwGhitp6CXrWzVozUUDKHSd2JgAlOuArC7neQIbYEtOZBm1uwbFdupZU/8BWQZrAYKys8UBejg5N+tBKG7DzKeK1Z84iwNj0pTz8hHmQZG2fI=
     options :
      -
        name : OPT_Nouvelle_Image_1500_x_1500_Fond_Blanc
        identifier : 0x2efc103501aaa82a
        internal_properties : BQAAAAUAAACILkVzUKFjN1aCJGsfO8m28rqnQLeQtysDDS547ofD8Hek+uZkTnMlUl834A5alm4Nb46tATA0GoXc0wSM1diAfOihuPNKbDJDqlLgappgSn32pUoK7onDDVIuIB4nTxAt4EGieCggWGGGigVN4AlfStBauLD0ztsV/m4QYqI9yNKR6EvJtIITLYt8Nx1B/mQCeMgMXDUjik8NTeWn3yJ6UXcF8g==
        code_elements :
         type_code : 26
         p_codes :
          -
            code : |1+
             NouvelleImage1500(2)
            type : 32
      -
        name : OPT_Nouvelle_Image_1500_x_1500_Fond_Transparent
        identifier : 0x2efc104601acec95
        internal_properties : BQAAAAUAAACUFjv4WH7t4wEljISBTB+4rKfy3VZRE/LuBO5pa5Nd7vGA1MytYIo5/BFXrzMbIfFBJRm8JxQ41xYbR0krBFmCVIUN4q4BtWEGSSAPk94RgMxXMFk8ulC8xtmy90BZg3kpMhiBXlf40P9wkXJ07BxdS7CGEOxwCMyGJZZsKjbAegHcFY+2onbmih3D0rO1nE4bX/5SDs/6A/ibNcVOxGBJmxfFTP/yh6cbCQiT
        code_elements :
         type_code : 26
         p_codes :
          -
            code : |1+
             NouvelleImage1500(1)
            type : 32
      -
        name : OPT_Nouvelle_Image_1500_x_1500_Fond_Personnalisé
        identifier : 0x2efc10e201ae4aaa
        internal_properties : BQAAAAUAAACtwUAhfXkSVgKaWdd+UoAXQcJce+BvwWQm7Wb7T59HwI9qQtiDBhpVfkf/XdR7zY0J3Q8CNwyUSbJHi50BQhJ9Q98lrZCHyF3vXrXwXPmzLLReFL06ZqDm/Cc0DKUBP5KwoUaxFjWVysiZRo9dFHJR16zS9LImog723wzylFyeVerBhHrH8XnrjaBWjWiQZZVgHLogUFUEbZZ5EiH8RPsm5spQMUR3nrQEQjGq
        code_elements :
         type_code : 26
         p_codes :
          -
            code : |1+
             NouvelleImage1500(3)
            type : 32
     code_elements :
      type_code : 26
      p_codes : []
   -
     name : OPT__2_Importer_l_image_Produit
     identifier : 0x2efc583c019541f4
     internal_properties : BQAAAAUAAADRB6/jDU6RuC3JIfZYiGCEM4COZsFI/wmn0CmhsmAAcjQyZPjRAjGdRoHcBgG7UOByX9onyXW1M2qoF2UCBnuo9iWj8rXfdY5uZWcq7bK1FyvJx64BaC9CkinVF/uuUDi4jymRpwKpnXrGcnO0XpMKDWeSMEPbiGQJkj683AnPJwkvlBY06qhxNLOuJPwxlisGOG/cdD3/b25bvPpAYw==
     code_elements :
      type_code : 26
      p_codes :
       -
         code : |1-
          importeImage()
          // sélection outil
          
          EnvoieTouche("^t")
         type : 32
   -
     name : OPT__3_Enregistrer
     identifier : 0x2efc627a019c41b3
     internal_properties : BQAAAAUAAAB7BJCDNt6nHKBr0kMNIS7lCvC7NSfJPlUrXiF6vn1pOxlI1vnZ+LcVuSl1aQ0FNMD/wb24JsaX1Pq45TEzAodZWqitHPT6XcALDifZq8mYWgz8lBQfJzUbVJROJ6kh7X/m+ExznSRg3g8Hdiq54jJJ5eMEcW+g1qLHAcyu1mJofaOKtLli013M0lFX0668fP3uag==
     options :
      -
        name : OPT_Sauvegarder_l_Image
        identifier : 0x2efc629501a1ab4a
        internal_properties : BQAAAAUAAAB9STkWqKY7QDb2wsQqmXvPRvIUU+aQHZvALdJxiKmC4DElzqiD9rMWb7e7ujdSNs6DoY+6Vv6H9vqMLbERTHzYHcLLz5MVOp1cSs1FBzZog2IckxweYcs7JLLXQKjTdFo/92LKuSXcFYk4qXIhlkGfwadM81IHp597zFUmAUjoanjvHPvdgNRPK+aG6ZMGV21VtPXoWA==
        code_elements :
         type_code : 26
         p_codes :
          -
            code : |1+
             sauvegardeWEB()
            type : 32
      -
        name : OPT_Envoyer_sur_le_site_de_l_Annexe
        identifier : 0x2efc62a801a3f592
        internal_properties : BQAAAAUAAAC4Hla4pMk4H3xgLv9h9z0JTSpsZG3K0aMpSomymycX8aCMvzODxYrYhbg23Cgw796aobDO8u9foME/4BKnsbTp2ZiW95gCxMYqmS0g5zJ9cIjmpH0SEeiFoSjcACTFW0Wn9hBSgAm2sF/7P26TLYh9juB7457sk3m+x/tfo1g6jJzyN+vfOQOK797b1+P0VWTxW3rZ0YBU+uXCE6Mpig==
        code_elements :
         type_code : 26
         p_codes :
          -
            code : |1-
             //info("Bientôt disponible, en cour de développement")
             // sauvegarde des calques ASTUCE sélection outil crayon
             EnvoieTouche("%c")
             
             UploadImage()
            type : 32
     code_elements :
      type_code : 26
      p_codes : []
   -
     name : OPT_Paramètres
     identifier : 0x2f031b3104d98add
     internal_properties : BQAAAAUAAABLTsmKmfyOe8wGAy30X1ug7MovaArrZCKeoeYfPahIUsDwSlAsV3EWJIsq1MFRcMY5/OzvpsLvHH2oAedgLUvLHVOTncsq8IBQfw+IQoIHEdb/YiPR1xcKCsqsOkCRD2Xt4q/f/25MfEw1ylcfq9JPeRInkhVyuB7zNPiZUYKEgf3pwRDS2QXfqm+NCg==
     code_elements :
      type_code : 26
      p_codes :
       -
         code : |1+
          Ouvre(FEN_Paramètres_de_connection_au_serveur_FTP)
         type : 32
  code_elements :
   type_code : 26
   p_codes : []
 languages :
  - fr-FR
 popup_menus : []
 message_bar :
  internal_properties : BQAAAAUAAABqPQh6HC8RxAVkp2SqPYLuZrfVhd+1KX4lx22hIT8uqEpE6yP7Sbc2rmVqdmL816EWzXOkEe9ijOtYwchZKAfpy3B1cNqhpJgsnbUs
 code_elements :
  type_code : 1
  p_codes :
   -
     code : |1+
      PROCEDURE MaFenêtre()
   -
     type : 230
     enabled : false
  procedures :
   -
     name : NouvelleImage1500
     procedure_id : 2232678198376905104
     type_code : 14
     code : |1-
      // Résumé : <indiquez ici ce que fait la procédure>
      // Syntaxe :
      //NouvelleImage1500 (<nParamimage> est entier)
      //
      // Paramètres :
      //	nParamimage (entier) : <indiquez ici le rôle de nParamimage>
      // Valeur de retour :
      // 	Aucune
      //
      // Exemple :
      // Indiquez ici un exemple d'utilisation.
      //
      procédure NouvelleImage1500(nParamimage est un entier)
      // on ferme l'image en cour
      PicFerme(EI_SansNom1)
      
      
      selon nParamimage
      	cas 1
      		imageCré()
      	cas 2
      		imageCré()
      		fondcréV2(16777215)
      		
      	cas 3
      		nCouleur est un entier
      		SI SelectCouleur(nCouleur) ALORS
      			// Une couleur a été choisie, nCouleur contient la nouvelle couleur
      			imageCré()
      			fondcréV2(nCouleur)
      		FIN
      		
      	
      		
      	AUTRE CAS
      		info("Erreur du sélecteur de création d'image")
      		
      FIN
      
      
      	procédure interne imageCré()
      	// Création d'une Image 1500 x 1500 pixels
      	si PicCrée(EI_SansNom1,picImage,1500,1500) = faux ALORS
      		Erreur(ErreurInfo())
      	FIN
      	FIN
      
      	procédure interne fondCré(nValCouleur est un entier)
      	// Ouverture d'une image source
      	MonImage est un WDPic
      	MonImage=EI_SansNom1
      	
      	// Ajout d'un calque contenant un rectangle
      	CalqueRectangle est un picCalque
      	CalqueRectangle..Nom		= "Fond"
      	CalqueRectangle..Largeur	= 1500
      	CalqueRectangle..Hauteur	= 1500
      	dRectangle(CalqueRectangle, 0, 0, 1500, 1500, nValCouleur)
      	
      	
      	
      	Ajoute(MonImage..Calque, CalqueRectangle)
      	
      	MonImage.FusionneCalque(1,2)
      	
      	
      	// ré affichage de l'image dans l'éditeur
      	EI_SansNom1 = MonImage
      	
      	
      	
      	
      	fin
      	
      	procédure interne fondcréV2(nValCouleur est un entier)
      		MonImage est une Image = EI_SansNom1
      		
      		dDébutDessin(MonImage)
      		
      		dRectangle(MonImage,0,0,1500,1500,nValCouleur)
      		
      		EI_SansNom1 = MonImage
      		
      	FIN
     type : 458752
   -
     name : importeImage
     procedure_id : 2232750267928151286
     type_code : 14
     code : |1+
      // Résumé : <indiquez ici ce que fait la procédure>
      // Syntaxe :
      // importeImage ()
      //
      // Paramètres :
      //	Aucun
      // Valeur de retour :
      // 	Aucune
      //
      // Exemple :
      // Indiquez ici un exemple d'utilisation.
      //
      procédure importeImage()
      // Ouverture d'une image source
      MonImage est un WDPic
      MonImage=EI_SansNom1
      
      // Ajout d'un calque contenant une photo
      CalqueImage est un picCalque
      CalqueImage..Nom		= "Photo"
      //CalqueRectangle..Largeur	= 1500
      //CalqueRectangle..Hauteur	= 1500
      //dRectangle(CalqueRectangle, 0, 0, 1500, 1500, nValCouleur)
      
      sFichier est une chaîne
      
      // Ouvre le sélecteur d'images
      sFichier			= fSélecteurImage("", "", "Sélectionnez une image...")
      
      si sFichier <> "" ALORS
      	CalqueImage..Image	= dChargeImage(sFichier)
      
      	
      	
      	
      	Ajoute(MonImage..Calque, CalqueImage)
      	
      	
      	// ré affichage de l'image dans l'éditeur
      	EI_SansNom1 = MonImage
      FIN
      
      
      
      
      
     type : 458752
   -
     name : sauvegardeWEB
     procedure_id : 2232771351922730550
     type_code : 14
     code : |1+
      // Résumé : <indiquez ici ce que fait la procédure>
      // Syntaxe :
      // sauvegardeWEB ()
      //
      // Paramètres :
      //	Aucun
      // Valeur de retour :
      // 	Aucune
      //
      // Exemple :
      // Indiquez ici un exemple d'utilisation.
      //
      procédure sauvegardeWEB()
      sRepertoireAppli est une chaine = fRepEnCours()
      sRepertoireImages est une chaine = sRepertoireAppli + "\Images\"
      
      fRepCrée(sRepertoireImages)
      
      
      MonImage est une Image
      MonImage = EI_SansNom1
      
      sNomImage est une chaine = Ouvre(FEN_Entrez_le_nom_de_l_Image)
      
      
      si sNomImage <> "@" ALORS
      	bResultat est un booléen
      	// Sauvegarde l'image
      	bResultat = dSauveImageJPEG(MonImage,sRepertoireImages + sNomImage+".JPG", 30)
      	
      	
      	SI bResultat ALORS
      		Info("Image Sauvegardée",sRepertoireImages)
      	SINON
      		Erreur(ErreurInfo())
      	FIN
      sinon
      	info("Image non sauvegardée car pas de nom de fichier")
      
      FIN
      
      
     type : 458752
   -
     name : UploadImage
     procedure_id : 2232810358815458495
     type_code : 14
     code : |1+
      // Résumé : <indiquez ici ce que fait la procédure>
      // Syntaxe :
      // UploadImage ()
      //
      // Paramètres :
      //	Aucun
      // Valeur de retour :
      // 	Aucune
      //
      // Exemple :
      // Indiquez ici un exemple d'utilisation.
      //
      procédure UploadImage()
      sRéponse est un tableau = sauvegardeFichierTEMP()
      
      si sRéponse..Occurrence > 0 ALORS
      	Ouvre(FEN_Prévisualiser,sRéponse)
      sinon
      	Erreur("Une erreur s'est produite")
      FIN
     type : 458752
   -
     name : sauvegardeFichierTEMP
     procedure_id : 2234569079203723591
     type_code : 14
     code : |1+
      // Résumé : <indiquez ici ce que fait la procédure>
      // Syntaxe :
      //[ <Résultat> = ] sauvegardeFichierTEMP ()
      //
      // Paramètres :
      //	Aucun
      // Valeur de retour :
      // 	tableau : // 	Aucune
      //
      // Exemple :
      // Indiquez ici un exemple d'utilisation.
      //
      procédure sauvegardeFichierTEMP()
      
      tabLien est un tableau de chaines
      
      
      sRepertoireAppli	est une chaîne	= fRepEnCours()
      sRepertoireImages	est une chaîne	= sRepertoireAppli + "\Images\"
      
      fRepCrée(sRepertoireImages)
      
      
      MonImage est une Image
      MonImage = EI_SansNom1
      
      
      sNomImage est une chaîne = Ouvre(FEN_Entrez_le_nom_de_l_Image)
      
      
      SI sNomImage <> "@" ALORS
      //	bResultat est un booléen
      //	
      //	// Sauvegarde l'image
      //	// V1
      //	bResultat = dSauveImageJPEG(MonImage,sRepertoireImages + sNomImage+".JPG", 30)
      //	// rajouter le thumbnail*
      //	
      //	dRedimensionne(MonImage,150,150)
      //	
      //	dSauveImageJPEG(MonImage,sRepertoireImages + sNomImage + "_150.JPG",30)
      //	
      //	
      //	SI bResultat ALORS
      //		RENVOYER sRepertoireImages + sNomImage + ".JPG"
      //	SINON
      //		renvoyer "ERR"
      //	FIN
      //SINON
      //	renvoyer "ERR"
      
      sauveImages(sNomImage)
      sauveImages(sNomImage,300,300)
      sauveImages(sNomImage,150,150)
      
      
      	
      FIN
      
      
      RENVOYER tabLien
      
      
      
      procédure interne sauveImages(sNomImageJPG est une chaine , nH est un entier = 1500 , nL est un entier = 1500)
      	bRésultat est un booléen
      	sChainetaille est une chaine = nH
      	
      	bRésultat = dRedimensionne(MonImage,nL,nH)
      	si bRésultat ALORS
      		bRésultat = dSauveImageJPEG(MonImage,sRepertoireImages + sNomImageJPG + "_" + sChainetaille + ".jpg",30)
      		si bRésultat = Vrai ALORS
      			TableauAjoute(tabLien,sRepertoireImages + sNomImageJPG + "_" + sChainetaille + ".jpg")
      		FIN
      		
      	FIN
      fin
      
      
     type : 458752
  procedure_templates : []
  property_templates : []
 code_parameters :
  internal_properties : BQAAAAUAAAAwjDLmDSZ0H1P68nJIeNfqR9EvRjU/K+sVcM1T6rhVNr+VTV1mZ/rmoweYbFDZUhBGcv8UsxlDxVCOnb2U/SQOvlGWzNby3/w/V+ppSymxv+Vh
  original_name : Modele1
resources :
 string_res :
  identifier : 0x1efc0e8d00023190
  internal_properties : BQAAAAUAAAAa2Zm8J9E/zh+/WIrVvz1fER/So3PB0gjQuxc1xKQVWY4ZDm5lfg==
custom_note :
 internal_properties : BQAAAAUAAAC68/W0/adbG0nFCRhrE42B5HRnbDzVHaz86sSQyxlBk7I=
rad :
 internal_properties : BQAAAAUAAABoAN7PLpwJW3EiA7WVZdCA5EwrCA1rvutcDHooMWKe
